(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(94)},91:function(e,t){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(42),l=a.n(s),r=a(3),c=a(4),o=a(7),u=a(5),d=a(6),m=a(2),h=(a(9),a(8)),p=a.n(h),b=a(1),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:""},a.setUser=a.setUser.bind(Object(m.a)(Object(m.a)(a))),a.setPassword=a.setPassword.bind(Object(m.a)(Object(m.a)(a))),a.submitLogin=a.submitLogin.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setUser",value:function(e){this.setState({username:e.target.value})}},{key:"setPassword",value:function(e){this.setState({password:e.target.value})}},{key:"submitLogin",value:function(e){var t=this;if(!(Object.values(this.state).indexOf("")>=0)){var a=new URLSearchParams;a.append("json",JSON.stringify(this.state)),p.a.post("Landing",a).then(function(e){"User Verified"===e.data.message&&t.props.login(t.state.username,e.data.uid)})}}},{key:"render",value:function(){return i.a.createElement(b.Container,null,i.a.createElement("form",null,i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Username"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",name:"username",placeholder:"Username",onChange:this.setUser}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Password"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"password",name:"password",placeholder:"Password",onChange:this.setPassword}))),i.a.createElement(b.Field,null,i.a.createElement(b.Control,null,i.a.createElement(b.Button,{isColor:"primary",onClick:this.submitLogin},"Submit")))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",email:"",mobile:"",locality:"",confirm:""},a.email=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a.mobile=/^\d{10}$/,a.checkUser=a.checkUser.bind(Object(m.a)(Object(m.a)(a))),a.checkEmail=a.checkEmail.bind(Object(m.a)(Object(m.a)(a))),a.checkPassword=a.checkPassword.bind(Object(m.a)(Object(m.a)(a))),a.setUser=a.setUser.bind(Object(m.a)(Object(m.a)(a))),a.setConfirm=a.setConfirm.bind(Object(m.a)(Object(m.a)(a))),a.setPassword=a.setPassword.bind(Object(m.a)(Object(m.a)(a))),a.setEmail=a.setEmail.bind(Object(m.a)(Object(m.a)(a))),a.setMobile=a.setMobile.bind(Object(m.a)(Object(m.a)(a))),a.setLocality=a.setLocality.bind(Object(m.a)(Object(m.a)(a))),a.submitRegister=a.submitRegister.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkUser",value:function(){if(""===this.state.username)return i.a.createElement(b.Help,{isColor:"danger"},"Username cannot be empty")}},{key:"checkEmail",value:function(){if(!this.email.test(this.state.email))return i.a.createElement(b.Help,{isColor:"danger"},"Invalid E-Mail Address")}},{key:"checkMobile",value:function(){if(!this.mobile.test(this.state.mobile))return i.a.createElement(b.Help,{isColor:"danger"},"Invalid Mobile Number")}},{key:"checkLocality",value:function(){return""!==this.state.locality}},{key:"checkPassword",value:function(e){switch(e){case"pass":return this.state.password.length<8?i.a.createElement(b.Help,{isColor:"danger"},"Password must be atleast 8 digits long"):"";case"confirm":return this.state.confirm===this.state.password&&this.state.password.length>=8;default:return""}}},{key:"setUser",value:function(e){this.setState({username:e.target.value})}},{key:"setEmail",value:function(e){this.setState({email:e.target.value})}},{key:"setMobile",value:function(e){this.setState({mobile:e.target.value})}},{key:"setLocality",value:function(e){this.setState({locality:e.target.value})}},{key:"setPassword",value:function(e){this.setState({password:e.target.value})}},{key:"setConfirm",value:function(e){this.setState({confirm:e.target.value})}},{key:"submitRegister",value:function(e){var t=this;if(!(Object.values(this.state).indexOf("")>=0)){var a=new URLSearchParams;a.append("json",JSON.stringify(this.state)),p.a.put("Landing",a).then(function(e){"Account Created"===e.data.message?t.props.login(t.state.username,e.data.uid):alert(e.data.message)})}}},{key:"render",value:function(){return i.a.createElement(b.Container,null,i.a.createElement("form",null,i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Username"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",placeholder:"Username",onChange:this.setUser})),this.checkUser()),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Email"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"email",placeholder:"Email",onChange:this.setEmail})),this.checkEmail()),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Mobile"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"tel",placeholder:"Mobile Number",onChange:this.setMobile})),this.checkMobile()),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Locality"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",placeholder:"Locality",onChange:this.setLocality})),!this.checkLocality()&&i.a.createElement(b.Help,{isColor:"danger"},"Locality can't be empty !")),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Password"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"password",placeholder:"Password",onChange:this.setPassword})),this.checkPassword("pass")),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Confirm Password"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"password",placeholder:"Confirm Password",onChange:this.setConfirm})),!this.checkPassword("confirm")&&i.a.createElement(b.Help,{isColor:"danger"},"Password does not match !")),i.a.createElement(b.Field,null,i.a.createElement(b.Control,null,i.a.createElement(b.Button,{isColor:"primary",onClick:this.submitRegister},"Submit")))))}}]),t}(n.Component),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(b.Navbar,null,i.a.createElement(b.NavbarBrand,null,i.a.createElement(b.NavbarItem,null,"Easy Rentals"),i.a.createElement(b.NavbarBurger,{isActive:this.props.isActive,onClick:this.props.handler})),i.a.createElement(b.NavbarMenu,{isActive:this.props.isActive,onClick:this.props.handler},i.a.createElement(b.NavbarEnd,null,i.a.createElement(b.NavbarItem,null,i.a.createElement("a",{href:"#/"},"About Us")))))}}]),t}(n.Component),f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(b.Hero,{isColor:"info",isSize:"medium",style:{"background-color":"#0b409c"}},i.a.createElement(b.HeroHeader,null,i.a.createElement(v,{isActive:this.props.isActive,handler:this.props.handler})),i.a.createElement(b.HeroBody,null,i.a.createElement(b.Container,{hasTextAlign:"centered"},i.a.createElement(b.Title,null,"Easy Rentals - A one stop solution for all your renting problems"))),i.a.createElement(b.HeroFooter,null,i.a.createElement(b.Tabs,{isBoxed:"isBoxed",isFullWidth:"isFullWidth"},i.a.createElement(b.Container,null,i.a.createElement(b.TabList,null,i.a.createElement(b.Tab,{isActive:this.props.Login,onClick:function(t){return e.props.toggle("login",t)}},i.a.createElement(b.TabLink,null,"Login")),i.a.createElement(b.Tab,{isActive:!this.props.Login,onClick:function(t){return e.props.toggle("register",t)}},i.a.createElement(b.TabLink,null,"Register")))))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!1,Login:!0,Register:!1},a.onClickNav=a.onClickNav.bind(Object(m.a)(Object(m.a)(a))),a.toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.loginOrRegister=a.loginOrRegister.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClickNav",value:function(){this.setState(function(e){return{isActive:!e.isActive,Login:!0}})}},{key:"toggle",value:function(e,t){console.log("called"),"login"===e?this.setState({Login:!0,Register:!1}):this.setState({Login:!1,Register:!0})}},{key:"loginOrRegister",value:function(){return this.state.Login?i.a.createElement(g,{login:this.props.login}):this.state.Register?i.a.createElement(E,{login:this.props.login}):void 0}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(f,{isActive:this.state.isActive,handler:this.onClickNav,toggle:this.toggle,Login:this.state.Login}),i.a.createElement(b.Section,null,this.loginOrRegister()))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isActive:!1,txt:"Your Listings",txt2:"Interested"},a.onClickNav=a.onClickNav.bind(Object(m.a)(Object(m.a)(a))),a.changeView=a.changeView.bind(Object(m.a)(Object(m.a)(a))),a.changeView2=a.changeView2.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"changeView",value:function(){"Your Listings"===this.state.txt?this.setState({txt:"All Listings"}):this.setState({txt:"Your Listings"}),this.props.showMy()}},{key:"changeView2",value:function(){"Interested"===this.state.txt2?this.setState({txt2:"All Listings"}):this.setState({txt2:"Interested"}),this.props.showInterested()}},{key:"onClickNav",value:function(){this.setState(function(e){return{isActive:!e.isActive,Login:!0}})}},{key:"render",value:function(){return i.a.createElement(b.Navbar,null,i.a.createElement(b.NavbarBrand,null,i.a.createElement(b.NavbarItem,null,"Easy Rentals"),i.a.createElement(b.NavbarBurger,{isActive:this.state.isActive,onClick:this.onClickNav})),i.a.createElement(b.NavbarMenu,{isActive:this.state.isActive,onClick:this.onClickNav},i.a.createElement(b.NavbarEnd,null,i.a.createElement(b.NavbarItem,{hasDropdown:"hasDropdown",isHoverable:"isHoverable"},i.a.createElement(b.NavbarLink,null,this.props.username),i.a.createElement(b.NavbarDropdown,null,"All Listings"!==this.state.txt&&i.a.createElement(b.NavbarItem,{href:"#/",onClick:this.changeView2},this.state.txt2),"All Listings"!==this.state.txt2&&i.a.createElement(b.NavbarItem,{href:"#/",onClick:this.changeView},this.state.txt),i.a.createElement(b.NavbarDivider,null),i.a.createElement(b.NavbarItem,null,i.a.createElement(b.Field,null,i.a.createElement(b.Control,null,i.a.createElement(b.Button,{isColor:"danger",onClick:this.props.logout},"Logout")))))))))}}]),t}(n.Component),y=a(13),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setText=a.setText.bind(Object(m.a)(Object(m.a)(a))),a.edit=a.edit.bind(Object(m.a)(Object(m.a)(a))),a.delete=a.delete.bind(Object(m.a)(Object(m.a)(a))),a.contact=a.contact.bind(Object(m.a)(Object(m.a)(a))),a.interested=a.interested.bind(Object(m.a)(Object(m.a)(a))),a.remove=a.remove.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"edit",value:function(){var e={id:this.props.lid,title:this.props.title,locality:this.props.locality,description:this.props.description};console.log("defaultValues "+e),this.props.enableEdit(e)}},{key:"delete",value:function(){var e=this,t=new URLSearchParams;t.append("id",this.props.lid),t.append("delete","true"),p.a.delete("Listing?"+t.toString()).then(function(t){"listing deleted"===t.data.message&&e.props.trigger()})}},{key:"remove",value:function(){var e=this,t=new URLSearchParams;t.append("id",this.props.lid),t.append("remove","true"),p.a.delete("Listing?"+t.toString()).then(function(t){"listing removed"===t.data.message&&e.props.trigger()})}},{key:"contact",value:function(){this.props.contact(this.props.luid,this.props.title)}},{key:"interested",value:function(){var e=new URLSearchParams;e.append("uid",this.props.uid),e.append("lid",this.props.lid),p.a.put("Listing?"+e.toString())}},{key:"setText",value:function(){return void 0!==this.props.interested&&!0===this.props.interested?i.a.createElement(b.CardFooter,null,i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.contact},"Contact"),i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.remove},"Remove from Interested")):this.props.uid===this.props.luid?i.a.createElement(b.CardFooter,null,i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.edit},"Edit"),i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.delete},"Delete")):i.a.createElement(b.CardFooter,null,i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.contact},"Contact"),i.a.createElement(b.CardFooterItem,{href:"#/",onClick:this.interested},"Interested"))}},{key:"render",value:function(){return i.a.createElement(b.Card,null,i.a.createElement(b.CardHeader,null,i.a.createElement(b.CardHeaderTitle,null,this.props.title)),i.a.createElement(b.CardImage,null,i.a.createElement(b.Image,{isRatio:"square",src:this.props.image})),i.a.createElement(b.CardContent,null,i.a.createElement(b.Content,null,this.props.description)),this.setText())}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).generateElements=a.generateElements.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"generateElements",value:function(){var e=this;return 0===this.props.listings.length?i.a.createElement("p",null,"Is seems you've reached the end"):this.props.listings.length<=3?i.a.createElement(b.Columns,{isCentered:"isCentered"},this.props.listings.slice(0,3).map(function(t){return i.a.createElement(b.Column,{isSize:"1/4"},i.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality,trigger:e.props.trigger,interested:t.interested,contact:e.props.contact}))})):i.a.createElement(i.a.Fragment,null,i.a.createElement(b.Columns,{isCentered:"isCentered"},this.props.listings.slice(0,3).map(function(t){return i.a.createElement(b.Column,{isSize:"1/4"},i.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality,trigger:e.props.trigger,interested:t.interested,contact:e.props.contact}))})),i.a.createElement(b.Columns,{isCentered:"isCentered"},this.props.listings.slice(3).map(function(t){return i.a.createElement(b.Column,{isSize:"1/4"},i.a.createElement(C,{enableEdit:e.props.enableEdit,uid:e.props.uid,lid:t.id,luid:t.uid,title:t.title,image:t.imagePath,description:t.description,locality:t.locality,trigger:e.props.trigger,interested:t.interested,contact:e.props.contact}))})))}},{key:"render",value:function(){return i.a.createElement(b.Container,null,this.generateElements())}}]),t}(n.Component),w=a(16),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:"",locality:"",description:"",image:null},a.handleEvents=a.handleEvents.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"reset",value:function(){this.setState({title:"",locality:"",description:"",image:null})}},{key:"handleEvents",value:function(e,t){"image"!==t?this.setState(Object(w.a)({},t,e.target.value)):this.setState(Object(w.a)({},t,e.target.files[0]))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("title",this.state.title.trim()),a.append("locality",this.state.locality.trim()),a.append("description",this.state.description.trim()),null!==this.state.image&&a.append("image",this.state.image,this.state.image.name),p.a.post("Listing",a).then(function(e){"Listing Successfully Created"===e.data.message&&t.props.disable()})}},{key:"render",value:function(){var e=this;return i.a.createElement(b.Modal,{isActive:this.props.isActive},i.a.createElement(b.ModalBackground,null),i.a.createElement(b.ModalCard,null,i.a.createElement(b.ModalCardHeader,null,i.a.createElement(b.ModalCardTitle,null,"Create new listing"),i.a.createElement(b.Delete,{onClick:this.props.disable})),i.a.createElement(b.ModalCardBody,null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Title"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",required:"required",onChange:function(t){return e.handleEvents(t,"title")}}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Locality"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",required:"required",onChange:function(t){return e.handleEvents(t,"locality")}}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Description"),i.a.createElement(b.Control,null,i.a.createElement(b.TextArea,{required:"required",onChange:function(t){return e.handleEvents(t,"description")}}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Image"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"file",accept:"image/*",onChange:function(t){return e.handleEvents(t,"image")}}))),i.a.createElement(b.Field,{isGrouped:!0},i.a.createElement(b.Control,null,i.a.createElement(b.Button,{type:"submit",isColor:"success"},"Save")),i.a.createElement(b.Control,null,i.a.createElement(b.Button,{type:"reset",isColor:"warning",onClick:this.reset},"Cancel")))))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={title:a.props.default.title,locality:a.props.default.locality,description:a.props.default.description,image:null},a.handleEvents=a.handleEvents.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"reset",value:function(){this.setState({title:this.props.default.title,locality:this.props.default.locality,description:this.props.default.description,image:null})}},{key:"handleEvents",value:function(e,t){"image"!==t?this.setState(Object(w.a)({},t,e.target.value)):this.setState(Object(w.a)({},t,e.target.files[0]))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("id",this.props.default.id);for(var n=Object.keys(this.state),i=0;i<n.length;i++){var s=n[i];"image"!==s&&this.state[[s]]!==this.props.default[[s]]&&a.append([s],this.state[[s]].trim())}null!==this.state.image&&a.append("image",this.state.image,this.state.image.name),p.a.post("Listing",a).then(function(e){"Listing Successfully Updated"===e.data.message&&t.props.disable()})}},{key:"render",value:function(){var e=this;return i.a.createElement(b.Modal,{isActive:this.props.isActive},i.a.createElement(b.ModalBackground,null),i.a.createElement(b.ModalCard,null,i.a.createElement(b.ModalCardHeader,null,i.a.createElement(b.ModalCardTitle,null,"Edit listing"),i.a.createElement(b.Delete,{onClick:this.props.disable})),i.a.createElement(b.ModalCardBody,null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Edit Title"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",onChange:function(t){return e.handleEvents(t,"title")},value:this.state.title||""}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Edit Locality"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",onChange:function(t){return e.handleEvents(t,"locality")},value:this.state.locality||""}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Edit Description"),i.a.createElement(b.Control,null,i.a.createElement(b.TextArea,{onChange:function(t){return e.handleEvents(t,"description")},value:this.state.description||""}))),i.a.createElement(b.Field,null,i.a.createElement(b.Label,null,"Upload new image"),i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"file",accept:"image/*",onChange:function(t){return e.handleEvents(t,"image")}}))),i.a.createElement(b.Field,{isGrouped:!0},i.a.createElement(b.Control,null,i.a.createElement(b.Button,{type:"submit",isColor:"success"},"Update")),i.a.createElement(b.Control,null,i.a.createElement(b.Button,{type:"reset",isColor:"warning",onClick:this.reset},"Cancel")))))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,edit:!1,defaultValues:{},input:""},a.enableEdit=a.enableEdit.bind(Object(m.a)(Object(m.a)(a))),a.disable=a.disable.bind(Object(m.a)(Object(m.a)(a))),a.disableEdit=a.disableEdit.bind(Object(m.a)(Object(m.a)(a))),a.enable=a.enable.bind(Object(m.a)(Object(m.a)(a))),a.search=a.search.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"search",value:function(){""===this.state.input?this.props.search(void 0):this.props.search(this.state.input)}},{key:"enableEdit",value:function(e){this.state.defaultValues=e,this.setState({edit:!0})}},{key:"disable",value:function(){this.props.trigger(),this.setState({modal:!1})}},{key:"disableEdit",value:function(){this.props.trigger(),this.setState({edit:!1})}},{key:"enable",value:function(){this.setState({modal:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(b.Container,null,i.a.createElement(b.Section,null,i.a.createElement(b.Level,null,i.a.createElement(b.LevelLeft,null,i.a.createElement(b.LevelItem,null,i.a.createElement(b.Field,{hasAddons:!0},i.a.createElement(b.Control,null,i.a.createElement(b.Input,{type:"text",placeholder:"Search by Locality",value:this.state.input||"",onChange:function(t){e.setState({input:t.target.value})}})),i.a.createElement(b.Control,null,i.a.createElement(b.Button,{onClick:this.search},"Search"))))),i.a.createElement(b.LevelRight,null,i.a.createElement(b.LevelItem,null,i.a.createElement(b.Field,null,i.a.createElement(b.Control,null,i.a.createElement(b.Button,{isColor:"success",onClick:this.enable},"Add a Listing")))))),i.a.createElement("hr",null)),i.a.createElement(b.Section,null,i.a.createElement(L,{isActive:this.state.modal,disable:this.disable}),this.state.edit&&i.a.createElement(I,{isActive:this.state.edit,disable:this.disableEdit,default:this.state.defaultValues}),i.a.createElement(k,{listings:this.props.listings,uid:this.props.uid,enableEdit:this.enableEdit,trigger:this.props.trigger,contact:this.props.contact})))}}]),t}(n.Component),F=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(b.Pagination,null,i.a.createElement(b.PageControl,{onClick:this.props.prev},"Previous"),i.a.createElement(b.PageControl,{onClick:this.props.next},"Next"))}}]),t}(n.Component),M=(a(68),a(43)),U=a.n(M),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={messages:[]},a.interval="",a.handleNewUserMessage=a.handleNewUserMessage.bind(Object(m.a)(Object(m.a)(a))),p.a.get("Message"),a.soc=U()("http://"+window.location.hostname+":5010"),a.soc.on("sendUid",function(){var e=JSON.stringify({uid:a.props.userInfo.id});a.soc.emit("getUid",e),a.soc.emit("getAllMessages",e)}),a.soc.on("receiveAllMessages",function(e){console.log(e);var t=JSON.parse(e);a.setState({messages:t}),t.messages.forEach(function(e){"Sent"===e.type?Object(y.addUserMessage)(e.message):"Received"===e.type&&Object(y.addResponseMessage)(e.message)})}),a.soc.on("gotAMessage",function(e){console.log(e),Object(y.addResponseMessage)(e)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.soc.disconnect()}},{key:"componentDidUpdate",value:function(){var e=this.props.message;if(void 0!==e.lusername&void 0!==e.ltitle){var t='Thanks for showing interest in the listing "'.concat(e.ltitle,'". You can now chat with @').concat(e.lusername," to discuss further."),a={userFrom:"SYSTEM",userTo:this.props.userInfo.username,timestamp:Date.now(),message:t};this.soc.emit("postAMessage",JSON.stringify(a)),Object(y.toggleWidget)(),this.props.unset()}}},{key:"handleNewUserMessage",value:function(e){if(!(e=e.trim()).startsWith("@"))return Object(y.addResponseMessage)("Invalid message format !"),void Object(y.addResponseMessage)("A message must start with @[some username]");var t=e.match(/[a-z'\-]+/gi)[0];e=e.slice(t.length+1).trim();var a={userFrom:this.props.userInfo.username,userTo:t,timestamp:Date.now(),message:e};console.log(a),this.soc.emit("postAMessage",JSON.stringify(a))}},{key:"render",value:function(){return i.a.createElement(y.Widget,{handleNewUserMessage:this.handleNewUserMessage,title:"Requests",subtitle:"Your Requests appear here !",senderPlaceHolder:"@Username Your Message"})}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={listings:[],currentFrameIndex:0,showMy:!1,showInterested:!1,currentFrame:[],userInfo:{},lusername:void 0,ltitle:void 0,searchLocality:void 0},a.getListings=a.getListings.bind(Object(m.a)(Object(m.a)(a))),a.setFrame=a.setFrame.bind(Object(m.a)(Object(m.a)(a))),a.nextFrame=a.nextFrame.bind(Object(m.a)(Object(m.a)(a))),a.prevFrame=a.prevFrame.bind(Object(m.a)(Object(m.a)(a))),a.showMy=a.showMy.bind(Object(m.a)(Object(m.a)(a))),a.showInterested=a.showInterested.bind(Object(m.a)(Object(m.a)(a))),a.getUserInfo=a.getUserInfo.bind(Object(m.a)(Object(m.a)(a))),a.contact=a.contact.bind(Object(m.a)(Object(m.a)(a))),a.unset=a.unset.bind(Object(m.a)(Object(m.a)(a))),a.search=a.search.bind(Object(m.a)(Object(m.a)(a))),a.getUserInfo(),a.getListings(),a.setFrame(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"search",value:function(e){var t=this;new Promise(function(a,n){t.setState({searchLocality:e}),a()}).then(function(){t.getListings()})}},{key:"getUserInfo",value:function(){var e=this;p.a.get("User").then(function(t){"message"in t.data&&e.props.logout(),e.setState({userInfo:t.data})})}},{key:"showInterested",value:function(){var e=this,t=new Promise(function(t,a){e.setState(function(e){return{showInterested:!e.showInterested,showMy:!1}}),t()});console.log("called"),t.then(function(t){e.getListings(),e.setFrame()})}},{key:"showMy",value:function(){var e=this;new Promise(function(t,a){e.setState(function(e){return{showMy:!e.showMy,showInterested:!1}}),t()}).then(function(t){e.getListings(),e.setFrame()})}},{key:"setFrame",value:function(){var e=this.state.listings.slice(this.state.currentFrameIndex,this.state.currentFrameIndex+6);this.setState({currentFrame:e})}},{key:"nextFrame",value:function(){this.getListings(),this.state.currentFrameIndex+6>=this.state.listings.length||this.setState(function(e){return{currentFrameIndex:e.currentFrameIndex+6}})}},{key:"prevFrame",value:function(){this.getListings(),this.state.currentFrameIndex-6<0||this.setState(function(e){return{currentFrameIndex:e.currentFrameIndex-6}})}},{key:"getListings",value:function(){var e=this;if(!0===this.state.showInterested){var t=new URLSearchParams;void 0!==this.state.searchLocality&&t.append("locality",this.state.searchLocality),t.append("uid",this.props.uid),t.append("showInterested","true"),p.a.get("Listing?"+t.toString()).then(function(t){var a=JSON.parse(t.data.listings);a!==[]&&(a=a.map(function(e){return e.interested=!0,e})),e.setState({listings:a}),e.setFrame()})}else if(!1===this.state.showMy){var a="Listing";void 0!==this.state.searchLocality&&(a+="?locality="+this.state.searchLocality),p.a.get(a).then(function(t){e.setState({listings:JSON.parse(t.data.listings)}),e.setFrame()})}else{var n=new URLSearchParams;n.append("showMy","true"),void 0!==this.state.searchLocality&&n.append("locality",this.state.searchLocality),p.a.get("Listing?"+n.toString()).then(function(t){e.setState({listings:JSON.parse(t.data.listings)}),e.setFrame()})}}},{key:"contact",value:function(e,t){var a=this,n=new URLSearchParams;n.append("luid",e),p.a.get("User?"+n.toString()).then(function(e){void 0===e.data.username&&null===e.data.username||a.setState({lusername:e.data.username,ltitle:t})})}},{key:"unset",value:function(){this.setState({lusername:void 0,ltitle:void 0})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(j,{logout:this.props.logout,showMy:this.showMy,showInterested:this.showInterested,username:this.state.userInfo.username}),i.a.createElement(b.Section,null,i.a.createElement(S,{listings:this.state.currentFrame,trigger:this.getListings,uid:this.props.uid,contact:this.contact,search:this.search})),i.a.createElement(b.Section,null,i.a.createElement(F,{next:this.nextFrame,prev:this.prevFrame})),i.a.createElement(x,{userInfo:this.state.userInfo,message:{lusername:this.state.lusername,ltitle:this.state.ltitle},unset:this.unset}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:!1,uname:"",uid:""},a.logIn=a.logIn.bind(Object(m.a)(Object(m.a)(a))),a.logOut=a.logOut.bind(Object(m.a)(Object(m.a)(a))),a.isLoggedIn=a.isLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a.checkIfLoggedIn=a.checkIfLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a.checkIfLoggedIn(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkIfLoggedIn",value:function(){var e=this;p.a.get("User").then(function(t){void 0===t.data.id?e.setState({loggedIn:!1}):e.logIn(t.data.username,t.data.id)})}},{key:"isLoggedIn",value:function(){return this.state.loggedIn?i.a.createElement(A,{logout:this.logOut,uid:this.state.uid}):i.a.createElement(O,{login:this.logIn})}},{key:"logIn",value:function(e,t){this.setState({loggedIn:!0,uname:e,uid:t})}},{key:"logOut",value:function(){var e=this;p.a.post("User").then(function(t){"logged out"===t.data.message&&e.setState({loggedIn:!1,uname:"",uid:""})})}},{key:"render",value:function(){return i.a.createElement("div",null,this.isLoggedIn())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,2,1]]]);
//# sourceMappingURL=main.5adaa44f.chunk.js.map